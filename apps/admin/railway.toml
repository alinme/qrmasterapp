# Railway config: Admin (Vue + Vite SPA)
# Admin service only. Root Directory = /. Config path = /apps/admin/railway.toml.
# To ignore: delete the admin service and deploy admin on Vercel instead.
# Build outputs to dist/; start runs "vite preview" (serves dist, not dev).

[build]
builder = "RAILPACK"
buildCommand = "corepack enable && pnpm install --filter admin && pnpm --filter admin run build"
watchPatterns = ["apps/admin/**", "packages/**", "pnpm-workspace.yaml", "pnpm-lock.yaml"]

[deploy]
startCommand = "pnpm --filter admin run start"
